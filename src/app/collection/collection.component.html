<h1>Les histoires de Fifi et Rhino</h1>

<div>
  <button (click)="getStories()" [disabled]="storyBookLoaded">
    Récupérer les Histoires
  </button>
  <button (click)="gotoStories()">Créer une nouvelle histoire</button>
</div>

<div *ngIf="storyBookLoading">
  <div *ngIf="storyBookLoading" id="loading"></div>
</div>

<span *ngIf="storyBookLoaded">
  <div>
    <span class="menu">
      <a alt="première histoire" class="nav" (click)="firstStory()"><<</a
      ><a alt="histoire précédente" class="nav" (click)="previousStory()"><</a>
      <p>{{ message }}</p>
      <a alt="histoire suivante" class="nav" (click)="nextStory()">></a
      ><a alt="dernière histoire" class="nav" (click)="lastStory()">>></a>
    </span>
    <button (click)="randomStory()">Histoire au hasard</button>
  </div>
  <div>
    <h2>
      Fifi et Rhino vont à {{ currStory.location }} pour
      {{ currStory.purpose }}
      <span *ngIf="currStory?.companion">avec {{ currStory.companion }}</span>
    </h2>
    <p>{{ currStory.text }}</p>
  </div>
  <div>
    <img src="{{ currStory.image }}" width="512" height="512" />
  </div>

  <div>
    <span class="menu">
      <a alt="première histoire" class="nav" (click)="firstStory()"><<</a
      ><a alt="histoire précédente" class="nav" (click)="previousStory()"><</a>
      <p>{{ message }}</p>
      <a alt="histoire suivante" class="nav" (click)="nextStory()">></a
      ><a alt="dernière histoire" class="nav" (click)="lastStory()">>></a>
    </span>
    <button (click)="randomStory()">Histoire au hasard</button>
  </div>
</span>
